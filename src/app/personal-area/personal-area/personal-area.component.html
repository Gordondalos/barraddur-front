<div class="p16">
  <section>

    <h1 class="bold">Персональные данные</h1>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Имя</mat-label>
      <input matInput placeholder="name" [(ngModel)]="user.name">
    </mat-form-field>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Фамилия</mat-label>
      <input matInput placeholder="surename" [(ngModel)]="user.surename">
    </mat-form-field>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Отчетсво</mat-label>
      <input matInput placeholder="fathers_name" [(ngModel)]="user.fathers_name">
    </mat-form-field>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Паспорт</mat-label>
      <input matInput placeholder="passport" [(ngModel)]="user.passport">
    </mat-form-field>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Login</mat-label>
      <input matInput placeholder="login" [(ngModel)]="user.login">
    </mat-form-field>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Телефон</mat-label>
      <input matInput placeholder="phone" [(ngModel)]="user.phone">
    </mat-form-field>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Email</mat-label>
      <input matInput placeholder="email" [(ngModel)]="user.email">
    </mat-form-field>

    <p>Введите сюда токен доступа к Тинькофф банку</p>
    <mat-form-field class="w100" appearance="outline">
      <mat-label>Токен для песочницы</mat-label>
      <input matInput placeholder="tToken" [(ngModel)]="user.tToken">
    </mat-form-field>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Токен для торговли</mat-label>
      <input matInput placeholder="t_prod_token" [(ngModel)]="user.t_prod_token">
    </mat-form-field>
    <a class="text-info text-underline mb16 d-block pointer">Как перейти в режим реальной торговли ?</a>
    <mat-slide-toggle (ngModelChange)="modeChange()" [(ngModel)]="mode">
      <ng-container *ngIf="mode">
        Включен режим торговли
      </ng-container>
      <ng-container *ngIf="!mode">
        Включен режим песочницы
      </ng-container>
    </mat-slide-toggle>
    <div class="clearfix"></div>

    <h3 class="mt16 bold">Сменить пароль</h3>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Новый Пароль</mat-label>
      <input [type]="show ? 'text' : 'password'" matInput placeholder="Пароль" [(ngModel)]="user.password">
      <button *ngIf="!show" mat-button matSuffix mat-icon-button aria-label="Clear" (click)="show = !show">
        <mat-icon>visibility_off</mat-icon>
      </button>
      <button *ngIf="show" mat-button matSuffix mat-icon-button aria-label="Clear" (click)="show = !show">
        <mat-icon>visibility</mat-icon>
      </button>
    </mat-form-field>


    <button class="mt16" mat-raised-button color="primary" (click)="save()">
      <mat-spinner *ngIf="showSaveLoader"
                   class="posa left16 white-icon-stroke"
                   [diameter]="18"
                   [strokeWidth]="3"
                   >
      </mat-spinner>
      <mat-icon *ngIf="!showSaveLoader" class="save-icon">save</mat-icon>

      <span [ngClass]="{'ml16': showSaveLoader}"> Сохранить</span>
    </button>


  </section>
  <section class="my16" *ngIf="!mode">
    <h1 class="bold">Установить сумму в песочнице</h1>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Валюта</mat-label>
      <mat-select [(ngModel)]="currency">
        <mat-option value="RUB">RUB</mat-option>
        <mat-option value="USD">USD</mat-option>
        <mat-option value="EUR">EUR</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="w100" appearance="outline">
      <mat-label>Сумма</mat-label>
      <input matInput placeholder="50000" [(ngModel)]="sum">
    </mat-form-field>

    <button (click)="addSumToSandbox()" mat-raised-button color="primary">Добавить</button>
  </section>
</div>


